#!/usr/bin/env bash

onemonitor() {
  xrandr --output "$1" --auto --dpi 104
}

dualmonitor() {
  for display in $1; do

    if [[ $display =~ "DP" ]]; then
      secundary=$display

    elif [[ $display =~ "HDMI" ]]; then
      primary=$display

    else
      echo "Nenhum monitor encontrado"

    fi
  done

xrandr \
  --output $secundary --auto \
  --output $primary --mode 2560x1080 --rate 75 --primary --right-of $secundary --dpi 123
}


# Get monitors connected
CONNECTED=$(xrandr -q | grep -e '\sconnected' | cut -d ' ' -f1)

# If there is only one monitor connected
[[ $(echo $CONNECTED | wc -w ) -lt 2 ]] && onemonitor "$CONNECTED" && exit

dualmonitor "$CONNECTED" && exit
