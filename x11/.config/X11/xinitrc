#!/bin/sh

[ -f "$HOME/.config/X11/xresources" ] && xrdb -load "$HOME/.config/X11/xresources"

# For the nvidia people
xrandr --setprovideroutputsource modesetting NVIDIA-0

# local scripts
setmonitor &

setxkbmap -option caps:escape &
xset s off -dpms &
xset r rate 300 50 &

[ -f "$HOME/.config/X11/xmodmap" ] && xmodmap "$HOME/.config/X11/xmodmap"

for p in numlockx rshift picom dunst mpd mpdscribble; do
  pidof -s "$p" || "$p" &
done

session="${1:-i3}"

case "$session" in
  i3)     exec i3;;
  bspwm)  exec bspwm;;
  *)      exec "$1";;
esac
